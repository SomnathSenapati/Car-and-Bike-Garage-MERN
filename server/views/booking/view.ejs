<!DOCTYPE html>
<html>
<head>
  <title><%= title %> - <%= bill.invoiceNumber %></title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <style>
    body { font-family: Arial, sans-serif; background: #f7f7f7; }
    .invoice-box { background: #fff; padding: 30px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .invoice-header { border-bottom: 2px solid #dee2e6; margin-bottom: 20px; padding-bottom: 10px; }
    .invoice-footer { margin-top: 30px; font-size: 0.9rem; text-align: center; color: #6c757d; }
    .company-logo { max-width: 150px; }
    .table th, .table td { vertical-align: middle; }
  </style>
</head>
<body class="container my-5">

  <div class="invoice-box">

    <!-- Header -->
    <div class="invoice-header d-flex justify-content-between align-items-center">
      <div>
        <h2>DriveWell</h2>
        <p>Car & Bike Servicing Center<br>
        ranen sen sarani, Bachurdoba, Jhargram<br>
        Phone: +91 8250188083 | Email: support@ssgarage@gmail.com</p>
      </div>
      <div>
        <img src="/image.png" alt="SS Garage" class="company-logo">
      </div>
    </div>

    <!-- Invoice info -->
    <div class="row my-3">
      <div class="col-md-6">
        <h5>Invoice #: <%= bill.invoiceNumber %></h5>
        <p>Date: <%= bill.date.toDateString() %></p>
      </div>
      <div class="col-md-6">
        <h5>Customer Details:</h5>
        <p>
          Name: <%= bill.customer?.name || "N/A" %><br>
          Email: <%= bill.customer?.email || "N/A" %><br>
          Phone: <%= bill.customer?.phone || "N/A" %>
        </p>
      </div>
    </div>

    <!-- Vehicle & Mechanic info -->
    <div class="row my-3">
      <div class="col-md-6">
        <h5>Vehicle Details:</h5>
        <p>
          Model: <%= bill.bookingId?.vehicle_model || "N/A" %><br>
          Brand: <%= bill.bookingId?.vehicle_brand || "N/A" %><br>
          Number: <%= bill.bookingId?.vehicle_number || "N/A" %>
        </p>
      </div>
      <div class="col-md-6">
        <h5>Mechanic:</h5>
        <p><%= bill.mechanic?.name || "N/A" %></p>
      </div>
    </div>

    <!-- Services table -->
    <h5 class="mt-4">Services Performed:</h5>
    <table class="table table-bordered">
      <thead class="table-light">
        <tr>
          <th>#</th>
          <th>Service Name</th>
          <th>Price (₹)</th>
        </tr>
      </thead>
      <tbody>
        <% bill.services.forEach((service, index) => { %>
          <tr>
            <td><%= index + 1 %></td>
            <td><%= service.name %></td>
            <td>₹<%= service.price %></td>
          </tr>
        <% }) %>
      </tbody>
      <tfoot>
        <tr>
          <th colspan="2" class="text-end">Total:</th>
          <th>₹<%= bill.amount %></th>
        </tr>
      </tfoot>
    </table>

    <!-- Footer / Thank you note -->
    <div class="invoice-footer">
      <p>Thank you for choosing SS Garage! We wish you safe and happy journeys.</p>
      <p>Follow us on Facebook & Instagram @SSGarage</p>
    </div>

    <!-- Print button -->
    <div class="text-center mt-4">
      <button onclick="window.print()" class="btn btn-primary">Print Invoice</button>
    </div>
  </div>

</body>
</html>
